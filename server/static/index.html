<!doctype html>
<html lang="en">
  <head>
    <title>This is nice</title>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>
  <body>

    <div x-data="wallpapers()" x-init="fetch_wallpapers()" style="display: flex; gap: 10px;">
      <template x-for="wallpaper in data">
        <div>
          <img :src="`/wallpapers/thumbnail/${wallpaper.id}`" />
        </div>
      </template>
      <div>
      </div>
    </div>

    <div x-data="clients()" x-init="fetch_clients()">
      <h3>Client List</h3>
      <template x-for="client in data">
        <p>
          <template x-if="client.connected_at != ''">
            <span>ONLINE</span>
          </template>
          <span x-text="client.addr"></span> 
          <span x-text="client.hostname"></span>
        </p>
      </template>
      <div>
      </div>
    </div>


    <div>
      <h3>Upload new wallpaper</h3>
      <form action="/wallpapers/upload" method="POST" enctype="multipart/form-data">
        <input type="file" id="file" name="file" accept="image/*" required> <br/><br/>
        <button type="submit">Upload</button>
      </form>
    </div>

    <script src="static/js/main.js"></script>
  </body>
</html>
